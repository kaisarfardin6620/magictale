# docker-compose.yml

services:
  # ... redis and web services are correct ...
  worker:
    build: .
    # === THIS IS THE FIX ===
    # The celery executable is in /usr/local/bin
    command: /usr/local/bin/celery -A magictale worker -l info
    volumes:
      - .:/home/appuser/app
    env_file:
      - .env
    depends_on:
      - redis